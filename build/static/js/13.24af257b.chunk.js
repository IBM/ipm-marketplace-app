(this["webpackJsonppartner-portal"]=this["webpackJsonppartner-portal"]||[]).push([[13],{100:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var n=t(8),r=t(0),l=t.n(r),c=t(49),s=t.n(c),i=(t(100),t(126)),m=t(38),o=t(119),u=t(66),d=t(67),E=t(124),g=t(125),p=t(68),f=t(69),h=t(70),v=t(71),b=t(77),N=t(73),w=t(54),P=t(141),C=t(44),y=window.location.origin;function k(e){var a,t,c=new URLSearchParams(e.location.search),k=c.get("ipmConfigID"),O=c.get("back"),j=Object(r.useState)({status:!0,msg:"Preparing quote... please wait! "}),M=Object(n.a)(j,2),D=M[0],I=M[1],S=Object(r.useState)({}),q=Object(n.a)(S,2),R=q[0],B=q[1],T=Object(r.useState)({status:null,message:""}),x=Object(n.a)(T,2),A=x[0],F=x[1],J={active:!0,withOverlay:!0,small:!1,description:"Loader",className:"loader"},L={Authorization:"Bearer "+function(e){var a={};return e&&e.split(";").forEach((function(e){var t=e.split("=");a[t.shift().trim()]=decodeURI(t.join("="))})),a}(document.cookie).jwttoken};Object(r.useEffect)((function(){Q(y)}),[]);var Q=function(e){s.a.get("".concat(e,"/partner/quote/data?ipmConfigID=")+k,{headers:L}).then((function(e){e.data.errorMessage?F({status:"error",message:e.data.errorMessage,data:e.data}):(W(),B(e.data))})).catch((function(e){var a;F({status:"error",message:(null===(a=e.response.data)||void 0===a?void 0:a.errorMessage)?e.response.data.errorMessage:"Something went wrong!",data:e})})).finally((function(){U()}))},U=function(){I({status:!1,msg:""})},W=function(){F({status:null,message:"",data:null})};return l.a.createElement(C.a,null,l.a.createElement("div",{className:"margin-top25"},l.a.createElement("h3",{className:"quote--title"},D.status?D.msg:"Quote")),function(e){if(!e.status)return null;switch(!0){case e.data.hasOwnProperty("orderReferenceNumber"):return l.a.createElement("div",{className:"".concat(e.status,"--status info--section")},l.a.createElement("span",null,"Order number ",e.data.orderReferenceNumber," has been created succesfully!"));default:return l.a.createElement("div",{className:"".concat(e.status,"--status info--section")},l.a.createElement("span",null,e.message))}}(A),D.status?l.a.createElement(m.a,J):"MP1808E"===(null===(a=A.data)||void 0===a?void 0:a.errorCode)?null:l.a.createElement(o.a,null,O?l.a.createElement(u.a,null,l.a.createElement(d.a,{md:12,className:"margin-top25"},l.a.createElement(E.a,{light:!0},l.a.createElement(g.a,function(e){return{className:"back--link",inline:!0,onClick:function(){return function(e){window.location.assign(e)}(e)}}}(O),l.a.createElement(i.c,null),l.a.createElement("span",null,"Back"))))):null,R.contacts?l.a.createElement(u.a,null,l.a.createElement(d.a,{sm:12,md:12,lg:12,className:"margin-top25"},l.a.createElement(E.a,null,l.a.createElement("h4",null,"Contact"))),l.a.createElement(d.a,{md:2},l.a.createElement(E.a,{light:!0},l.a.createElement("span",null,"Name:"," ",R.contacts.firstName+" "+R.contacts.lastName))),l.a.createElement(d.a,{md:2},l.a.createElement(E.a,{light:!0},l.a.createElement("span",null,"Email: ",R.contacts.email," ")))):null,l.a.createElement(l.a.Fragment,null,R.provisioning?l.a.createElement(u.a,null,l.a.createElement(d.a,{sm:12,md:12,lg:12,className:"margin-top25"},l.a.createElement(E.a,null,l.a.createElement("h4",null,"Provision Details"))),Object.keys(R.provisioning).map((function(e,a){return l.a.createElement(d.a,{md:2,key:a},l.a.createElement(E.a,{light:!0},l.a.createElement("span",null,e,":",R.provisioning[e])))}))):null,l.a.createElement(u.a,null,l.a.createElement(d.a,{sm:12,md:12,lg:12,className:"margin-top25"},l.a.createElement(E.a,null,l.a.createElement("h4",null,"Other Details"))),l.a.createElement(d.a,{md:2},l.a.createElement(E.a,{light:!0},l.a.createElement("span",null,"IPM Config ID: ",R.ipmConfigID))),l.a.createElement(d.a,{md:2},l.a.createElement(E.a,{light:!0},l.a.createElement("span",null,"Billing Terms: ",R.billing))),l.a.createElement(d.a,{md:2},l.a.createElement(E.a,{light:!0},l.a.createElement("span",null,"Subscription Terms: ",R.terms)))),l.a.createElement(u.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a,{className:"margin-top25",title:"Summary"},l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,null,"ID"),l.a.createElement(b.a,null,"Quantity"),l.a.createElement(b.a,null,"Partner Debit Price"),l.a.createElement(b.a,null,"Customer Debit Price"),l.a.createElement(b.a,null,"Customer Credit Price"),l.a.createElement(b.a,null,"Price"))),l.a.createElement(N.a,null,null===(t=R.items)||void 0===t?void 0:t.map((function(e,a){var t,n,r,c;return l.a.createElement(v.a,{key:a},l.a.createElement(w.a,null,e.partIdentifier),l.a.createElement(w.a,null,e.attributes.item_qty),l.a.createElement(w.a,null,null===(t=e.pricingEstimate)||void 0===t?void 0:t.debit.partnerExtendedPrice),l.a.createElement(w.a,null,null===(n=e.pricingEstimate)||void 0===n?void 0:n.debit.suggestedEndCustomerPrice),l.a.createElement(w.a,null,null===(r=e.pricingEstimate)||void 0===r?void 0:r.credit.partnerExtendedPrice),l.a.createElement(w.a,null,(null===(c=e.pricingEstimate)||void 0===c?void 0:c.debit.suggestedEndCustomerPrice)?e.pricingEstimate.debit.suggestedEndCustomerPrice+" "+R.currency:"Free"))}))))))),l.a.createElement(u.a,{className:"margin-top25"},l.a.createElement(d.a,{lg:8}),l.a.createElement(d.a,{lg:2},l.a.createElement("span",{className:"total--price"},"Total price: ",R.totalPrice," ",R.currency)),l.a.createElement(d.a,{lg:2},l.a.createElement(P.a,function(e){return{disabled:A.status,tooltipAlignment:"center",style:{float:"right"},onClick:function(){return function(e){I({status:!0,msg:"Creating order... please wait!"});var a="".concat(y,"/partner/product/order/").concat(e),t=sessionStorage.getItem("or");t&&(a="".concat(a,"/").concat(t)),s.a.post(a,{headers:L}).then((function(e){e.data.errorMessage?F({status:"error",message:e.data.errorMessage,data:e.data}):F({status:"success",message:e.data.message,data:e.data})})).catch((function(e){var a;F({status:"error",message:(null===(a=e.response.data)||void 0===a?void 0:a.errorMessage)?e.response.data.errorMessage:"Something went wrong!",data:e})})).finally((function(){U()}))}(e)}}}(k),"Create Order"))))))}},44:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(0),r=t.n(n),l=t(119);t(45);function c(e){var a=e.fullWidth;return r.a.createElement(l.a,{fullWidth:a,className:"container"},e.children)}},45:function(e,a,t){}}]);
//# sourceMappingURL=13.24af257b.chunk.js.map